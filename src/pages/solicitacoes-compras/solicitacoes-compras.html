<!--
  Generated template for the SolicitacoesCompras page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-toolbar color="primary">
  <!-- <ion-title>{{listaSolicitacoes.length}} Solicitacões abertas</ion-title> -->
    <!-- <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button> -->

  </ion-toolbar>
</ion-header>

<ion-content padding>

  <ion-list (press)="mostrarSelecionarTodos()">

    <ion-item-sliding #slidingItem *ngFor="let item of listaSolicitacoes" >

      <ion-item floating>
        <ion-grid>
          <ion-row>
            <ion-col width-25>

              <template [ngIf]="mostrarCheck" center>
                <template [ngIf]="item.checado" center>
                  <button ion-fab color="secondary" (click)="checarItem(item)">
                    <ion-icon name="checkmark"></ion-icon>
                  </button>
                </template>

                <template [ngIf]="!item.checado" center>
                  <button ion-fab color="light" outline (click)="checarItem(item)">
                    <!-- <ion-icon name="checkmark"></ion-icon> -->
                  </button>
                </template>

              </template>



              <template [ngIf]="!mostrarCheck" item-right>
                <template [ngIf]="item.tp_situacao == 'O'" item-right>
                  <button ion-fab color="yellow"></button>
                </template>
                <template [ngIf]="item.tp_situacao == 'A'" item-right>
                  <button ion-fab color="secondary"></button>
                </template>
                <template [ngIf]="item.tp_situacao == 'U'" item-right>
                  <button ion-fab color="secondary"></button>
                </template>
                <template [ngIf]="item.tp_situacao == 'R'" item-right>
                  <button ion-fab color="danger"></button>
                </template>
                <template [ngIf]="item.tp_situacao == 'S'" item-right>
                  <button ion-fab color="yellow"></button>
                </template>
              </template>





              <!-- <button *ngIf="{{item.tp_situacao}} = 'R'" ion-fab color="danger"></button>
              <button *ngIf="{{item.tp_situacao}} = 'A'" ion-fab ></button> -->

            </ion-col>
            <ion-col width-40 (click)='exibirDetalhes(item);'>
              <h2 >Solicitação {{item.cd_sol_com}}</h2>
              <h3> Aberta por ... </h3>
              <h4> Em {{item.dt_sol_com}} </h4>
            </ion-col>
          </ion-row>
        </ion-grid>

      </ion-item>

      <ion-item-options >
        <button ion-button color="secondary" (click)="aprovar(item, slidingItem)">
          <ion-icon name="checkmark"></ion-icon>
          Aprovar
        </button>
        <button ion-button color="danger" (click)="rejeitar(item, slidingItem)">
          <ion-icon name="close"></ion-icon>
          Rejeitar
        </button>
      </ion-item-options >
    </ion-item-sliding>

  </ion-list>


</ion-content>
